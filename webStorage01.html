<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<title>Exercise 4 - Local Storage</title>

<link href="reset.css" type="text/css" rel="stylesheet" />

<link href="webStorage_Style.css" type="text/css" rel="stylesheet" />

<script>
window.addEventListener("load",init);

function init(){
	if(typeof(Storage)!=="undefined"){
	
	display();
	
	var button=document.getElementById("button");
	button.addEventListener("click",saveInfo);
	}
	
	else{
	//old bowser	
	}
}

function saveInfo(){
	var city=document.getElementById("city").value;
	var type=document.getElementById("donutType").value;
    var topping=document.getElementById("topping").value;
    var quantity=document.getElementById("quant").value;
	
	localStorage.setItem("cityName",city);
	localStorage.setItem("userType",type);
    localStorage.setItem("userTopping",topping);
    localStorage.setItem("userQuant",quantity);
	
	
	display();
	
}

function display(){
	var rightBox=document.getElementById("useroutput");
	var theCity=localStorage.getItem("cityName");
	var theType=localStorage.getItem("userType");
    var theTopping=localStorage.getItem("userTopping");
    var theQuant=localStorage.getItem("userQuant");
	
	if(theType==undefined){
		document.getElementById("useroutput").innerHTML="";
	}
	else{ document.getElementById("useroutput").innerHTML="OUTPUT  <hr /><br /><br />The City: "+theCity+"<br /><br />  Donut type & name: "+theType
         +"<br /><br /> Donut topping: " +theTopping+"<br /><br /> Quantity: "+theQuant+ "<br /><br /><img src='donutmeme.jpg' width='300' height='280'>";
	}
	
}

</script>



</head>

<body>

<div id="main">
	<section id="userinput">
    INPUT <br>
	<hr />
    <br /><br />
    <form>
        <div>City: <br /><input type="input" id="city" size="20"></div>
        <br />
        <div>Donut type & name:<br /> <textarea id="donutType" rows="5"></textarea></div>
        <br />
        <div>Donut topping:<br /> <input type="text" id="topping" size="20"></div>
        <br />
        <div>Quantity:<br /> <input type="number" id="quant" size="20"></div>
        <br />
        <div><input type="button" id="button" value="Save"></div>
    </form>
    </section>
    
    
    <section id="useroutput">
 OUTPUT  
 	<hr />
    <br /><br />
    </section>

</div>



</body>
</html>
